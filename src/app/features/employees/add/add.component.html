
<div>
    <h2 class="text-2xl font-semibold mb-8">Add Employee</h2>
    <form class="flex flex-col gap-4" [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
        <div class="flex flex-col gap-2">
            <label for="username">Username:</label>
            <input type="text" class="p-2 text-sm rounded-md" id="username" formControlName="username">
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['username'].invalid && employeeForm.controls['username'].dirty">
                <span *ngIf="employeeForm.controls['username'].errors?.['required']">Username required</span>
            </div>
        </div>
        <div class="flex justify-between gap-2">
            <div class="flex-1 flex flex-col gap-2">
                <label for="firstName">First Name:</label>
                <input type="text" class="p-2 text-sm rounded-md" id="firstName" formControlName="firstName">
                <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['firstName'].invalid && employeeForm.controls['firstName'].dirty">
                    <span *ngIf="employeeForm.controls['firstName'].errors?.['required']">First Name required</span>
                </div>
            </div>
            <div class="flex-1 flex flex-col gap-2">
                <label for="lastName">Last Name:</label>
                <input type="text" class="p-2 text-sm rounded-md" id="lastName" formControlName="lastName">
                <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['lastName'].invalid && employeeForm.controls['lastName'].dirty">
                    <span *ngIf="employeeForm.controls['lastName'].errors?.['required']">Last Name required</span>
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label for="email">Email:</label>
            <input type="text" class="p-2 text-sm rounded-md" id="email" formControlName="email">
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['email'].invalid && employeeForm.controls['email'].dirty">
                <span *ngIf="employeeForm.controls['email'].errors?.['required']">Email required</span>
                <span *ngIf="employeeForm.controls['email'].errors?.['email']">Email invalid format</span>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label>Birth Date:</label>
            <p-calendar formControlName="birthDate" dateFormat="yy/mm/dd"/>
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['birthDate'].invalid && employeeForm.controls['birthDate'].dirty">
                <span *ngIf="employeeForm.controls['birthDate'].errors?.['invalidDate']">Invalid date, cant more than now.</span>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label for="basicSalary">Basic Salary:</label>
            <input type="number" class="p-2 text-sm rounded-md" id="basicSalary" formControlName="basicSalary">
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['basicSalary'].invalid && employeeForm.controls['basicSalary'].dirty">
                <span *ngIf="employeeForm.controls['basicSalary'].errors?.['pattern']">Basic Salary required</span>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label>Status :</label>
            <div class="flex gap-2">
                <label for="statusActive">
                    <input type="radio" class="p-2 text-sm rounded-md" id="statusActive" formControlName="status" value="Active">
                    Active
                </label>
                <label for="statusDeactive">
                    <input type="radio" class="p-2 text-sm rounded-md" id="statusDeactive" formControlName="status" value="Deactive">
                    Deactive
                </label>
            </div>
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['status'].invalid && employeeForm.controls['status'].dirty">
                <span *ngIf="employeeForm.controls['status'].errors?.['required']">Status required</span>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label for="group">Group:</label>
            <div (click)="onShowDropdown($event)" class="relative group">
                <input type="text" class="w-full p-2 text-sm rounded-md" id="group" formControlName="group" required>
                <ul #dropdown class="absolute hidden bg-white shadow-md w-full max-h-24 transition-all duration-150 overflow-auto mt-2 flex-col gap-1 border rounded-md">
                    <li *ngFor="let group of groups" (click)="onSelectGroup($event, group)" class="p-1 cursor-pointer hover:bg-gray-100">{{group}}</li>
                    <li *ngIf="groups.length == 0" class="p-1 bg-gray-100">Group Not Found.</li>
                </ul>
            </div>
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['group'].invalid && employeeForm.controls['group'].touched">
                <span *ngIf="employeeForm.controls['group'].errors?.['invalidGroup']">Group Invalid, not match any group.</span>
            </div>
        </div>
        <div class="flex flex-col gap-2">
            <label for="description">Description:</label>
            <textarea class="w-full p-2 text-sm rounded-md" formControlName="description" id="description"></textarea>
            <div class="text-red-500 text-[.625rem]" *ngIf="employeeForm.controls['description'].invalid && employeeForm.controls['description'].dirty">
                <span *ngIf="employeeForm.controls['description'].errors?.['required']">Description required</span>
            </div>
        </div>
        <button [disabled]="employeeForm.invalid" type="submit" class="bg-primary hover:bg-primary/70 text-white font-semibold p-2 w-1/3 transition-colors duration-150 disabled:cursor-not-allowed disabled:bg-primary/70" style="border-radius: .25rem;">Submit</button>
    </form>
</div>
